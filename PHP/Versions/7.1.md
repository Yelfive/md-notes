New trait of PHP 7.1
====================

1. Nullable Types
-----------------

Question mark `?` to indicates a parameter can be null

```php
function answer(): ?int {
    // return of null, int is valid
}

function say(?string $sth) {
    // `$sth` can be null or string, but not anything else
}

```

### return types

When subtyping a return type the nullability can be removed by a subclass, but it cannot be added:

```php
interface Fooable {
    function foo(): ?Fooable;
}
interface StrictFooable extends Fooable {
    function foo(): Fooable; // valid
}

interface Fooable {
    function foo(): Fooable; // valid
}
interface LooseFooable extends Fooable {
    function foo(): ?Fooable; // invalid
}
```

### parameter types

The nullable type cannot be removed in a sub-class; it can be added if not present in a super-class. This behavior is consistent with the Liskov substitution principle.

```php
// Valid use: loosening the nullable marker in a parameter:
interface Fooable {
    function foo(Fooable $f);
}
interface LooseFoo extends Fooable {
    function foo(?Fooable $f);
}

```

```php
// Invalid use: tightening the nullable marker in a parameter:
interface Fooable {
    function foo(?Fooable $f);
}
interface StrictFoo extends Fooable {
    function foo(Fooable $f);
}


```

2. Square bracket syntax for array destructuring assignment
-----------------------------------------------------------
3. Allow specifying keys in list()
-----------------------------------------------------------

```php
$array = ["a" => 1, "b" => 2, "c" => 3];
list('a' => $va, 'b' => $vb) = $array;
// equals to
$va = $array['a'];
$vb = $array['b'];

```

short syntax

```PHP
['a' => $va, 'b' => $vb] = $array
```

> Note: The destructuring can be nested, but in only one syntax only, `[]` or `list`, cannot both be used at one destructuring

```php
list (['a' => $a]) = [['a' => 1]]; // invalid
[['a' => $a]] = [['a'] => 1]; // valid
```

4. Generalize support of negative string offsets
------------------------------------------------

```php
echo 'abc'[-1];
```

5. Void Return Type
-------------------

6. Class constant visibility modifiers
--------------------------------------

7. Multi catch
--------------

Others
------

1. `session_create_id(string $prefix)` Allow to custom session id

Appendix
--------

[PHP Wiki](https://wiki.php.net/rfc)