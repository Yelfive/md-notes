# Scope of C

## Scope of C Variables

### variable escape

Function of `C` should never return a pointer which is defined inside it, because the pointed address can be reallocated to another variable of another function. However, you can return a pointer which is not defined inside, such as a pointer passed to this function. Consider the following example:

```c
#include <stdio.h>

int *test() {
    int a = 1;
    printf("%p\n", &a);
    return &a;
}

int *test2() {
    int a = 2;
    printf("%p\n", &a);
    return &a;
}

int main(int argc, char *argv[]) {
    int *a = test();
    printf("a=%d\n", *a);
    test2();
    printf("a=%d\n", *a);
}
```

and the result will be something similar

```text
0x7ffee91dd8bc
a=1
0x7ffee91dd8bc
a=2
```